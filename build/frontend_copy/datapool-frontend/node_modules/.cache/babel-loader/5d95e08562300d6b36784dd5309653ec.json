{"ast":null,"code":"import CacheInfoDialog from '@/components/CacheInfoDialog.vue';\nimport DeleteDialog from '@/components/DeleteDialog.vue';\nimport ReloadConfirmDialog from '@/components/ReloadConfirmDialog.vue';\nimport CreateCacheDialog from '@/components/CreateCacheDialog.vue';\nimport { mapGetters } from 'vuex';\nimport { mapActions } from 'vuex';\nimport apiClient from '@/plugins/backendClient.js';\nexport default {\n  components: {\n    CacheInfoDialog,\n    DeleteDialog,\n    ReloadConfirmDialog,\n    CreateCacheDialog\n  },\n\n  data() {\n    return {\n      search: '',\n      headers: [{\n        text: 'CacheName',\n        align: 'start',\n        sortable: false,\n        value: 'cacheName'\n      }, {\n        text: 'Type',\n        value: 'type'\n      }, {\n        text: 'project',\n        value: 'baseProject'\n      }, {\n        text: 'rowCount',\n        value: 'rowCount'\n      }, {\n        text: 'Columns',\n        value: 'columns'\n      }, {\n        text: 'Status',\n        value: 'status'\n      }, {\n        text: 'Actions',\n        value: 'actions'\n      }]\n    };\n  },\n\n  methods: { ...mapGetters(['GET_CURRENT_PROJECT', 'GET_CACHES']),\n    ...mapActions(['REFRESH_CACHES', 'REFRESH_CURRENT_PROJECT']),\n\n    get_caches() {\n      this.REFRESH_CACHES(this.GET_CURRENT_PROJECT().id);\n      return this.GET_CACHES();\n    },\n\n    reload_all() {\n      apiClient.post_reload_all(this.GET_CURRENT_PROJECT().id).then(response => {\n        console.log(response);\n        this.REFRESH_CACHES(this.GET_CURRENT_PROJECT().id);\n      });\n    }\n\n  },\n\n  created() {\n    this.get_caches();\n  }\n\n};","map":{"version":3,"mappings":"AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,eADA;IAEAC,YAFA;IAGAC,mBAHA;IAIAC;EAJA,CADA;;EAOAC;IACA;MACAC,UADA;MAEAC,UACA;QACAC,iBADA;QAEAC,cAFA;QAGAC,eAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;MAAA,CARA,EASA;QAAAH;QAAAG;MAAA,CATA,EAUA;QAAAH;QAAAG;MAAA,CAVA,EAWA;QAAAH;QAAAG;MAAA,CAXA,EAYA;QAAAH;QAAAG;MAAA,CAZA;IAFA;EAiBA,CAzBA;;EA0BAC,WACA,eACA,qBADA,EAEA,YAFA,EADA;IAKA,eACA,gBADA,EAEA,yBAFA,EALA;;IASAC;MACA;MACA;IACA,CAZA;;IAaAC;MACAC;QACAC;QACA;MACA,CAHA;IAIA;;EAlBA,CA1BA;;EA8CAC;IACA;EACA;;AAhDA","names":["components","CacheInfoDialog","DeleteDialog","ReloadConfirmDialog","CreateCacheDialog","data","search","headers","text","align","sortable","value","methods","get_caches","reload_all","apiClient","console","created"],"sourceRoot":"src/pages","sources":["DatapoolCaches.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n      <v-card class=\"my-4\" flat>\n        <v-card-content class=\"d-flex flex-row-reverse\">\n          <CreateCacheDialog class=\"mx-4 my-3\" />\n          <v-btn\n              class=\"mx-4 my-3\"\n              fab\n              dark\n              color=\"warning\"\n              @click=\"reload_all()\"\n              small\n          >\n              <v-icon dark>\n                mdi-reload\n              </v-icon>\n          </v-btn>\n        </v-card-content>\n      </v-card>\n      <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n          class=\"my-2\"\n      ></v-text-field>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"this.$store.state.caches\"\n        :items-per-page=\"10\"\n        :search=\"search\"\n        class=\"elevation-1\"\n      >\n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-row>\n              <ReloadConfirmDialog class=\"ma-2\" v-bind:item=\"item\"></ReloadConfirmDialog>\n              <DeleteDialog class=\"ma-2\" v-bind:item=\"item\"></DeleteDialog>\n              <CacheInfoDialog class=\"ma-2\" v-bind:item=\"item\"></CacheInfoDialog>\n          </v-row>\n        </template>\n        <template v-slot:no-data>\n          <v-btn\n            color=\"primary\"\n          >\n            Reset\n          </v-btn>\n        </template>\n      </v-data-table>\n  </v-container>\n</template>\n\n<script>\n  import CacheInfoDialog from '@/components/CacheInfoDialog.vue'\n  import DeleteDialog from '@/components/DeleteDialog.vue'\n  import ReloadConfirmDialog from '@/components/ReloadConfirmDialog.vue'\n  import CreateCacheDialog from '@/components/CreateCacheDialog.vue'\n  import {mapGetters} from 'vuex'\n  import {mapActions} from 'vuex'\n  import apiClient from '@/plugins/backendClient.js'\n\n  export default {\n    components: {\n      CacheInfoDialog,\n      DeleteDialog,\n      ReloadConfirmDialog,\n      CreateCacheDialog\n    },\n    data () {\n      return {\n        search: '',\n        headers: [\n          {\n            text: 'CacheName',\n            align: 'start',\n            sortable: false,\n            value: 'cacheName',\n          },\n          { text: 'Type', value: 'type' },\n          { text: 'project', value: 'baseProject' },\n          { text: 'rowCount', value: 'rowCount' },\n          { text: 'Columns', value: 'columns' },\n          { text: 'Status', value: 'status' },\n          { text: 'Actions', value: 'actions'}\n        ]\n      }\n    },\n    methods: {\n        ...mapGetters([\n          'GET_CURRENT_PROJECT',\n          'GET_CACHES'\n        ]),\n        ...mapActions([\n           'REFRESH_CACHES',\n           'REFRESH_CURRENT_PROJECT'\n        ]),\n        get_caches(){\n            this.REFRESH_CACHES(this.GET_CURRENT_PROJECT().id)\n            return this.GET_CACHES()\n        },\n        reload_all(){\n            apiClient.post_reload_all(this.GET_CURRENT_PROJECT().id).then((response)=>{\n               console.log(response)\n               this.REFRESH_CACHES(this.GET_CURRENT_PROJECT().id)\n            })\n        }\n    },\n    created(){\n        this.get_caches()\n    }\n  }\n</script>\n"]},"metadata":{},"sourceType":"module"}