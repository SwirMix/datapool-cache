{"ast":null,"code":"import { mapActions } from 'vuex';\nimport { mapGetters } from 'vuex';\nimport apiClient from '@/plugins/backendClient.js';\nexport default {\n  props: {},\n\n  data() {\n    return {\n      dialog: false,\n      data: {},\n      param_item: {\n        value: {\n          name: 'default_1',\n          projectId: '',\n          parameters: {}\n        },\n        key: {\n          project: ''\n        }\n      }\n    };\n  },\n\n  created() {\n    this.data = this.object_to_value(this.param_item.value.parameters);\n  },\n\n  mounted() {\n    this.data = this.object_to_value(this.param_item.value.parameters);\n  },\n\n  methods: { ...mapActions(['REFRESH_CACHES', 'REFRESH_CURRENT_PROJECT']),\n    ...mapGetters(['GET_CURRENT_PROJECT']),\n\n    create_static() {\n      let data = JSON.parse(this.data);\n      let request = this.param_item;\n      console.log(data);\n      request.parameters = data;\n      request.key.project = this.GET_CURRENT_PROJECT().id;\n      request.value.projectId = this.GET_CURRENT_PROJECT().id;\n      apiClient.create_cache_static(request).then(response => {\n        console.log(response.data);\n        this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT());\n        this.dialog = false;\n      });\n    },\n\n    delete_static_cache() {\n      let request = this.param_item;\n      apiClient.delete_cache_static(request).then(response => {\n        console.log(response.data);\n        this.dialog = false;\n      });\n      this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT());\n    },\n\n    object_to_value(item) {\n      console.log(item);\n      return JSON.stringify(item.parameters);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0DA;AACA;AACA;AAEA;EACAA,SADA;;EAGAC;IACA;MACAC,aADA;MAEAD,QAFA;MAGAE;QACAC;UACAC,iBADA;UAEAC,aAFA;UAGAC;QAHA,CADA;QAMAC;UACAC;QADA;MANA;IAHA;EAcA,CAlBA;;EAmBAC;IACA;EACA,CArBA;;EAsBAC;IACA;EACA,CAxBA;;EAyBAC,WACA,eACA,gBADA,EAEA,yBAFA,EADA;IAKA,eACA,qBADA,EALA;;IAQAC;MACA;MACA;MACAC;MACAC;MACAA;MACAA;MACAC;QACAF;QACA;QACA;MACA,CAJA;IAKA,CApBA;;IAsBAG;MACA;MACAD;QACAF;QACA;MACA,CAHA;MAIA;IACA,CA7BA;;IA+BAI;MACAJ;MACA;IACA;;EAlCA;AAzBA","names":["props","data","dialog","param_item","value","name","projectId","parameters","key","project","created","mounted","methods","create_static","console","request","apiClient","delete_static_cache","object_to_value"],"sourceRoot":"src/components","sources":["CreateStaticCacheDialog.vue"],"sourcesContent":["<template>\n  <div class=\"text-right\">\n    <v-dialog\n      v-model=\"dialog\"\n      width=\"90rem\"\n      height=\"10rem\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          fab\n          dark\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          color=\"indigo\"\n        >\n          <v-icon dark>\n            mdi-plus\n          </v-icon>\n        </v-btn>\n      </template>\n      <v-card>\n        <v-card-title class=\"text-h5\">\n            Create static cache dialog\n        </v-card-title>\n        <v-card-text>\n              <v-text-field\n                label=\"Name\"\n                v-model=\"param_item.value.name\"\n              ></v-text-field>\n              <v-card>\n                <v-card-text>\n                    <v-textarea\n                      outlined\n                      name=\"input-7-4\"\n                      label=\"JSON body\"\n                      :value=\"object_to_value(this.param_item.value)\"\n                      v-model=\"data\"\n                    ></v-textarea>\n                </v-card-text>\n              </v-card>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"create_static()\"\n          >\n            CREATE\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\n  import {mapActions} from 'vuex'\n  import {mapGetters} from 'vuex'\n  import apiClient from '@/plugins/backendClient.js'\n\n  export default {\n    props: {\n    },\n    data () {\n      return {\n        dialog: false,\n        data: {},\n        param_item: {\n                      value: {\n                        name: 'default_1',\n                        projectId: '',\n                        parameters: {}\n                      },\n                      key: {\n                        project: ''\n                      }\n                    }\n      }\n    },\n    created(){\n        this.data = this.object_to_value(this.param_item.value.parameters)\n    },\n    mounted(){\n        this.data = this.object_to_value(this.param_item.value.parameters)\n    },\n    methods: {\n      ...mapActions([\n         'REFRESH_CACHES',\n         'REFRESH_CURRENT_PROJECT'\n      ]),\n      ...mapGetters([\n        'GET_CURRENT_PROJECT'\n      ]),\n      create_static(){\n        let data = JSON.parse(this.data)\n        let request = this.param_item\n        console.log(data)\n        request.parameters = data\n        request.key.project = this.GET_CURRENT_PROJECT().id\n        request.value.projectId = this.GET_CURRENT_PROJECT().id\n        apiClient.create_cache_static(request).then((response)=>{\n           console.log(response.data)\n           this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT())\n           this.dialog = false\n        })\n      },\n\n      delete_static_cache(){\n        let request = this.param_item\n        apiClient.delete_cache_static(request).then((response)=>{\n           console.log(response.data)\n           this.dialog = false\n        })\n        this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT())\n      },\n\n      object_to_value(item){\n        console.log(item)\n        return JSON.stringify(item.parameters);\n      }\n    }\n  }\n</script>"]},"metadata":{},"sourceType":"module"}