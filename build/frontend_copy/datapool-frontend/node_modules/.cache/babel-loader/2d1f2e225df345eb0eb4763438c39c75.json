{"ast":null,"code":"import apiClient from '@/plugins/backendClient.js';\nimport { mapActions } from 'vuex';\nimport { mapGetters } from 'vuex';\nexport default {\n  params: {\n    item: Object\n  },\n\n  data() {\n    return {\n      dialog: false,\n      types: [\"POSTGRESQL\"],\n      body: {\n        \"query\": \"select * from bookings.aircrafts_data\",\n        \"connectionProperties\": {\n          \"url\": \"jdbc:postgresql://localhost:5432/demo?currentSchema=bookings\",\n          \"login\": \"perfcona\",\n          \"password\": \"perfcona\"\n        },\n        \"type\": \"POSTGRESQL\",\n        \"cacheName\": \"aircraft\",\n        \"projectId\": \"20c794f4-46d2-46a1-af19-5efbd1addf5d\"\n      }\n    };\n  },\n\n  methods: { ...mapGetters(['GET_CURRENT_PROJECT']),\n    ...mapActions(['REFRESH_CURRENT_PROJECT']),\n\n    create_cache() {\n      this.body.projectId = this.GET_CURRENT_PROJECT().id;\n      apiClient.post_jdbc_cache(this.body).then(response => {\n        console.log(response.data);\n        this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT());\n        this.dialog = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgFA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;MACAC,aADA;MAEAC,QACA,YADA,CAFA;MAKAC;QACA,gDADA;QAEA;UACA,qEADA;UAEA,mBAFA;UAGA;QAHA,CAFA;QAOA,oBAPA;QAQA,uBARA;QASA;MATA;IALA;EAiBA,CAtBA;;EAuBAC,WACA,eACA,qBADA,EADA;IAIA,eACA,yBADA,EAJA;;IAOAC;MACA;MACAC;QACAC;QACA;QACA;MACA,CAJA;IAKA;;EAdA;AAvBA","names":["params","item","data","dialog","types","body","methods","create_cache","apiClient","console"],"sourceRoot":"src/components","sources":["CreateCacheDialog.vue"],"sourcesContent":["<template>\n  <div class=\"text-center\">\n    <v-dialog\n      v-model=\"dialog\"\n      width=\"80rem\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          fab\n          dark\n          color=\"indigo\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          small\n        >\n          <v-icon dark>\n            mdi-plus\n          </v-icon>\n        </v-btn>\n      </template>\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          Add cache from JDBC\n        </v-card-title>\n        <v-card-text>\n            <v-text-field\n              label=\"Query\"\n              required\n              v-model=\"body.query\"\n            ></v-text-field>\n            <v-select\n              :items=\"types\"\n              label=\"Type\"\n              v-model=\"body.type\"\n              required\n            ></v-select>\n            <v-text-field\n              label=\"CacheName\"\n              v-model=\"body.cacheName\"\n              required\n            ></v-text-field>\n            <v-text-field\n              label=\"JDBC URL\"\n              v-model=\"body.connectionProperties.url\"\n              required\n            ></v-text-field>\n            <v-text-field\n              label=\"login\"\n              v-model=\"body.connectionProperties.login\"\n              required\n            ></v-text-field>\n            <v-text-field\n              label=\"password\"\n              v-model=\"body.connectionProperties.password\"\n              required\n            ></v-text-field>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"warning\"\n            text\n            @click=\"dialog = false\"\n          >\n            Cancel\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"create_cache()\"\n          >\n            Confirm\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\n  import apiClient from '@/plugins/backendClient.js'\n  import {mapActions} from 'vuex'\n  import {mapGetters} from 'vuex'\n\n  export default {\n    params: {\n        item: Object\n    },\n    data () {\n      return {\n        dialog: false,\n        types: [\n            \"POSTGRESQL\",\n        ],\n        body: {\n          \"query\": \"select * from bookings.aircrafts_data\",\n          \"connectionProperties\": {\n            \"url\": \"jdbc:postgresql://localhost:5432/demo?currentSchema=bookings\",\n            \"login\": \"perfcona\",\n            \"password\": \"perfcona\"\n          },\n          \"type\": \"POSTGRESQL\",\n          \"cacheName\": \"aircraft\",\n          \"projectId\": \"20c794f4-46d2-46a1-af19-5efbd1addf5d\"\n        }\n      }\n    },\n    methods: {\n      ...mapGetters([\n        'GET_CURRENT_PROJECT'\n      ]),\n      ...mapActions([\n         'REFRESH_CURRENT_PROJECT'\n      ]),\n      create_cache(){\n        this.body.projectId = this.GET_CURRENT_PROJECT().id\n        apiClient.post_jdbc_cache(this.body).then((response)=>{\n           console.log(response.data)\n           this.REFRESH_CURRENT_PROJECT(this.GET_CURRENT_PROJECT())\n           this.dialog = false\n        })\n      }\n    }\n  }\n</script>"]},"metadata":{},"sourceType":"module"}